<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèôÔ∏è –ú–ï–ì–ê–ü–û–õ–ò–° 2000+</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .game-container {
            max-width: 1200px;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 40px;
            padding: 30px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        /* –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .stats-panel {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 25px;
            border-radius: 30px;
            color: white;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .stat-value {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 18px;
            opacity: 0.9;
        }
        
        /* –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ */
        .city-area {
            background: linear-gradient(135deg, #43a047 0%, #2e7d32 100%);
            min-height: 400px;
            border-radius: 40px;
            padding: 30px;
            margin-bottom: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
            gap: 15px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.3);
        }
        
        .building {
            width: 100%;
            aspect-ratio: 1;
            background: linear-gradient(135deg, #ffd54f 0%, #ffb300 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 0 #b26a00, 0 10px 20px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.5);
            animation: popIn 0.3s ease-out;
        }
        
        .building:hover {
            transform: translateY(-5px);
            box-shadow: 0 13px 0 #b26a00, 0 15px 25px rgba(0, 0, 0, 0.4);
        }
        
        .building:active {
            transform: translateY(5px);
            box-shadow: 0 3px 0 #b26a00, 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        
        @keyframes popIn {
            0% { transform: scale(0); }
            80% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        /* –ú–µ–Ω—é –≤—ã–±–æ—Ä–∞ –∑–¥–∞–Ω–∏–π */
        .build-menu {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 40px;
            padding: 25px;
            margin-bottom: 30px;
            border: 2px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .menu-title {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            padding-left: 10px;
        }
        
        .buildings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            max-height: 300px;
            overflow-y: auto;
            padding: 10px;
        }
        
        .building-card {
            background: white;
            border-radius: 30px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid #e0e0e0;
            box-shadow: 0 5px 0 #b0b0b0;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .building-card:hover {
            transform: translateY(-3px);
            border-color: #667eea;
            box-shadow: 0 8px 0 #764ba2;
        }
        
        .building-card.selected {
            border-color: #ffd700;
            background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
            transform: translateY(-3px);
            box-shadow: 0 8px 0 #ffb300;
        }
        
        .card-emoji {
            font-size: 40px;
            background: #f0f0f0;
            width: 70px;
            height: 70px;
            border-radius: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .card-info {
            flex: 1;
        }
        
        .card-name {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        
        .card-price {
            color: #4caf50;
            font-weight: bold;
            font-size: 18px;
        }
        
        .card-income {
            color: #ff9800;
            font-size: 14px;
        }
        
        /* –ü–∞–Ω–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π */
        .action-panel {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }
        
        .action-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 50px;
            padding: 20px;
            color: white;
            font-size: 22px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 0 #4a3f8a, 0 10px 20px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .action-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 0 #4a3f8a, 0 15px 25px rgba(0, 0, 0, 0.4);
        }
        
        .action-btn:active {
            transform: translateY(5px);
            box-shadow: 0 5px 0 #4a3f8a, 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        
        .action-btn.reset {
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            box-shadow: 0 10px 0 #b71c1c;
        }
        
        /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å */
        .info-panel {
            margin-top: 30px;
            background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
            border-radius: 30px;
            padding: 20px;
            text-align: center;
            font-size: 20px;
            color: #333;
            border: 2px solid white;
            box-shadow: 0 5px 0 #b0b0b0;
        }
        
        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 30px;
            right: 30px;
            background: #333;
            color: white;
            padding: 20px 40px;
            border-radius: 50px;
            font-size: 18px;
            animation: slideIn 0.3s ease;
            z-index: 1000;
            border: 2px solid #ffd700;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    </style>
</head>
<body>
<div class="game-container">
    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div class="stats-panel">
        <div class="stat-card">
            <div class="stat-value" id="moneyDisplay">50,000</div>
            <div class="stat-label">üí∞ –ú–æ–Ω–µ—Ç—ã</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="buildingsCount">0</div>
            <div class="stat-label">üèóÔ∏è –ü–æ—Å—Ç—Ä–æ–µ–∫</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="incomeDisplay">0</div>
            <div class="stat-label">üìà –î–æ—Ö–æ–¥</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="levelDisplay">1</div>
            <div class="stat-label">‚≠ê –£—Ä–æ–≤–µ–Ω—å</div>
        </div>
    </div>

    <!-- –ì–æ—Ä–æ–¥ -->
    <div class="city-area" id="cityArea"></div>

    <!-- –ú–µ–Ω—é —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ -->
    <div class="build-menu">
        <div class="menu-title">üèóÔ∏è –í—ã–±–µ—Ä–∏—Ç–µ –∑–¥–∞–Ω–∏–µ –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ (–≤—Å–µ–≥–æ 2240)</div>
        <div class="buildings-grid" id="buildingsGrid"></div>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
    <div class="action-panel">
        <button class="action-btn" id="collectBtn">
            <span>üí∞</span> –°–æ–±—Ä–∞—Ç—å –Ω–∞–ª–æ–≥–∏
        </button>
        <button class="action-btn" id="cancelBtn">
            <span>‚ùå</span> –û—Ç–º–µ–Ω–∞
        </button>
        <button class="action-btn reset" id="resetBtn">
            <span>üîÑ</span> –ù–æ–≤—ã–π –≥–æ—Ä–æ–¥
        </button>
    </div>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="info-panel" id="infoPanel">
        üëÜ –í—ã–±–µ—Ä–∏—Ç–µ –∑–¥–∞–Ω–∏–µ –≤ –º–µ–Ω—é, –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –ø—É—Å—Ç–æ–µ –º–µ—Å—Ç–æ –≤ –≥–æ—Ä–æ–¥–µ
    </div>
</div>

<script>
// ==================== –°–û–°–¢–û–Ø–ù–ò–ï –ò–ì–†–´ ====================
let gameState = {
    money: 50000,
    buildings: [],
    selectedBuilding: null,
    lastTaxTime: Date.now(),
};

// ==================== –ì–ï–ù–ï–†–ê–¶–ò–Ø 2240 –£–ù–ò–ö–ê–õ–¨–ù–´–• –ó–î–ê–ù–ò–ô ====================
const buildingTypes = [];

// –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–¥–∞–Ω–∏–π
const categories = [
    { emoji: 'üè†', name: '–î–æ–º', basePrice: 200, baseIncome: 10 },
    { emoji: 'üè¢', name: '–û—Ñ–∏—Å', basePrice: 500, baseIncome: 25 },
    { emoji: 'üè™', name: '–ú–∞–≥–∞–∑–∏–Ω', basePrice: 300, baseIncome: 15 },
    { emoji: 'üè≠', name: '–ó–∞–≤–æ–¥', basePrice: 800, baseIncome: 40 },
    { emoji: 'üè•', name: '–ë–æ–ª—å–Ω–∏—Ü–∞', basePrice: 1000, baseIncome: 30 },
    { emoji: 'üè´', name: '–®–∫–æ–ª–∞', basePrice: 600, baseIncome: 20 },
    { emoji: 'üèõÔ∏è', name: '–ë–∞–Ω–∫', basePrice: 1500, baseIncome: 75 },
    { emoji: 'üè∞', name: '–ó–∞–º–æ–∫', basePrice: 3000, baseIncome: 150 },
    { emoji: 'üóº', name: '–ë–∞—à–Ω—è', basePrice: 900, baseIncome: 45 },
    { emoji: '‚õ™', name: '–¶–µ—Ä–∫–æ–≤—å', basePrice: 700, baseIncome: 25 },
    { emoji: 'üé≠', name: '–¢–µ–∞—Ç—Ä', basePrice: 1100, baseIncome: 55 },
    { emoji: 'üèüÔ∏è', name: '–°—Ç–∞–¥–∏–æ–Ω', basePrice: 2000, baseIncome: 100 },
    { emoji: 'üöâ', name: '–í–æ–∫–∑–∞–ª', basePrice: 1200, baseIncome: 60 },
    { emoji: '‚úàÔ∏è', name: '–ê—ç—Ä–æ–ø–æ—Ä—Ç', basePrice: 4000, baseIncome: 200 },
    { emoji: '‚ö°', name: '–≠–ª–µ–∫—Ç—Ä–æ', basePrice: 1800, baseIncome: 90 },
    { emoji: 'üå≥', name: '–ü–∞—Ä–∫', basePrice: 250, baseIncome: 5 },
    { emoji: 'üè®', name: '–û—Ç–µ–ª—å', basePrice: 900, baseIncome: 45 },
    { emoji: 'üè¨', name: '–¢–¶', basePrice: 2500, baseIncome: 125 },
    { emoji: 'üè¶', name: '–ë–∞–Ω–∫', basePrice: 1400, baseIncome: 70 },
    { emoji: 'üè§', name: '–ü–æ—á—Ç–∞', basePrice: 350, baseIncome: 12 },
    { emoji: 'üè•', name: '–ö–ª–∏–Ω–∏–∫–∞', basePrice: 450, baseIncome: 18 },
    { emoji: 'üè£', name: '–û—Ñ–∏—Å', basePrice: 550, baseIncome: 22 },
    { emoji: 'üè©', name: '–°–ü–ê', basePrice: 650, baseIncome: 28 },
    { emoji: 'üè™', name: '–õ–∞–≤–∫–∞', basePrice: 150, baseIncome: 8 },
    { emoji: 'üè´', name: '–ö–æ–ª–ª–µ–¥–∂', basePrice: 850, baseIncome: 35 },
    { emoji: 'üè¨', name: '–ú–∞—Ä–∫–µ—Ç', basePrice: 400, baseIncome: 16 },
    { emoji: 'üè≠', name: '–§–∞–±—Ä–∏–∫–∞', basePrice: 950, baseIncome: 42 },
    { emoji: 'üèØ', name: '–î–≤–æ—Ä–µ—Ü', basePrice: 3500, baseIncome: 180 },
    { emoji: 'üè∞', name: '–ö—Ä–µ–ø–æ—Å—Ç—å', basePrice: 2800, baseIncome: 140 },
    { emoji: 'üèüÔ∏è', name: '–ê—Ä–µ–Ω–∞', basePrice: 2200, baseIncome: 110 },
    { emoji: 'üé™', name: '–¶–∏—Ä–∫', basePrice: 750, baseIncome: 32 },
    { emoji: 'üé®', name: '–ì–∞–ª–µ—Ä–µ—è', basePrice: 500, baseIncome: 20 },
];

// –°–æ–∑–¥–∞—ë–º 70 –≤–∞—Ä–∏–∞—Ü–∏–π –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (32 * 70 = 2240)
categories.forEach((cat, catIndex) => {
    for (let i = 1; i <= 70; i++) {
        const multiplier = 1 + (i * 0.05);
        buildingTypes.push({
            id: buildingTypes.length,
            emoji: cat.emoji,
            name: `${cat.name} ${i}`,
            price: Math.floor(cat.basePrice * multiplier),
            income: Math.floor(cat.baseIncome * multiplier),
            category: catIndex,
        });
    }
});

console.log(`–°–æ–∑–¥–∞–Ω–æ –∑–¥–∞–Ω–∏–π: ${buildingTypes.length}`);

// ==================== –≠–õ–ï–ú–ï–ù–¢–´ ====================
const cityArea = document.getElementById('cityArea');
const buildingsGrid = document.getElementById('buildingsGrid');
const moneyDisplay = document.getElementById('moneyDisplay');
const buildingsCount = document.getElementById('buildingsCount');
const incomeDisplay = document.getElementById('incomeDisplay');
const levelDisplay = document.getElementById('levelDisplay');
const infoPanel = document.getElementById('infoPanel');

// ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê ====================
function updateUI() {
    moneyDisplay.textContent = gameState.money.toLocaleString();
    buildingsCount.textContent = gameState.buildings.length;
    
    let totalIncome = 0;
    gameState.buildings.forEach(b => {
        totalIncome += buildingTypes[b.type].income;
    });
    incomeDisplay.textContent = totalIncome;
    
    levelDisplay.textContent = Math.floor(gameState.buildings.length / 10) + 1;
}

// ==================== –û–¢–†–ò–°–û–í–ö–ê –ì–û–†–û–î–ê ====================
function renderCity() {
    cityArea.innerHTML = '';
    gameState.buildings.forEach((building, index) => {
        const type = buildingTypes[building.type];
        const div = document.createElement('div');
        div.className = 'building';
        div.style.background = `linear-gradient(135deg, hsl(${building.type * 30 % 360}, 70%, 70%) 0%, hsl(${building.type * 30 % 360}, 80%, 50%) 100%)`;
        div.textContent = type.emoji;
        div.onclick = (e) => {
            e.stopPropagation();
            infoPanel.innerHTML = `${type.emoji} ${type.name}<br>üí∞ –î–æ—Ö–æ–¥: ${type.income} | üíµ –¶–µ–Ω–∞: ${type.price}`;
        };
        cityArea.appendChild(div);
    });
}

// ==================== –ü–û–°–¢–†–û–ô–ö–ê –ó–î–ê–ù–ò–Ø ====================
function buildBuilding(x, y) {
    if (gameState.selectedBuilding === null) {
        showNotification('‚ùå –°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –∑–¥–∞–Ω–∏–µ –≤ –º–µ–Ω—é!', 'error');
        return;
    }
    
    const type = buildingTypes[gameState.selectedBuilding];
    
    if (gameState.money < type.price) {
        showNotification(`‚ùå –ù—É–∂–Ω–æ ${type.price} –º–æ–Ω–µ—Ç!`, 'error');
        return;
    }
    
    gameState.money -= type.price;
    gameState.buildings.push({
        type: gameState.selectedBuilding,
        x: gameState.buildings.length % 10,
        y: Math.floor(gameState.buildings.length / 10),
    });
    
    updateUI();
    renderCity();
    showNotification(`‚úÖ –ü–æ—Å—Ç—Ä–æ–µ–Ω–æ: ${type.name}`, 'success');
}

// ==================== –°–ë–û–† –ù–ê–õ–û–ì–û–í ====================
function collectTaxes() {
    const now = Date.now();
    const timeSinceLast = now - gameState.lastTaxTime;
    
    if (timeSinceLast < 8000) {
        const wait = Math.ceil((8000 - timeSinceLast) / 1000);
        showNotification(`‚è≥ –ü–æ–¥–æ–∂–¥–∏—Ç–µ ${wait} —Å–µ–∫—É–Ω–¥!`, 'warning');
        return;
    }
    
    let total = 0;
    gameState.buildings.forEach(b => {
        total += buildingTypes[b.type].income;
    });
    
    gameState.money += total;
    gameState.lastTaxTime = now;
    
    updateUI();
    showNotification(`üí∞ –°–æ–±—Ä–∞–Ω–æ ${total} –º–æ–Ω–µ—Ç!`, 'success');
}

// ==================== –ù–û–í–´–ô –ì–û–†–û–î ====================
function resetGame() {
    if (confirm('–ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –≥–æ—Ä–æ–¥? –í–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω!')) {
        gameState = {
            money: 50000,
            buildings: [],
            selectedBuilding: null,
            lastTaxTime: Date.now(),
        };
        
        document.querySelectorAll('.building-card').forEach(c => c.classList.remove('selected'));
        updateUI();
        renderCity();
        infoPanel.innerHTML = 'üëÜ –í—ã–±–µ—Ä–∏—Ç–µ –∑–¥–∞–Ω–∏–µ –≤ –º–µ–Ω—é, –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –ø—É—Å—Ç–æ–µ –º–µ—Å—Ç–æ –≤ –≥–æ—Ä–æ–¥–µ';
        showNotification('üîÑ –ù–æ–≤—ã–π –≥–æ—Ä–æ–¥ —Å–æ–∑–¥–∞–Ω', 'info');
    }
}

// ==================== –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ====================
function showNotification(message, type) {
    const notification = document.createElement('div');
    notification.className = 'notification';
    notification.textContent = message;
    
    if (type === 'success') notification.style.borderColor = '#4caf50';
    if (type === 'error') notification.style.borderColor = '#f44336';
    if (type === 'warning') notification.style.borderColor = '#ff9800';
    
    document.body.appendChild(notification);
    setTimeout(() => notification.remove(), 3000);
}

// ==================== –°–û–ó–î–ê–ù–ò–ï –ú–ï–ù–Æ ====================
buildingTypes.forEach((type, index) => {
    const card = document.createElement('div');
    card.className = 'building-card';
    card.dataset.index = index;
    card.innerHTML = `
        <div class="card-emoji">${type.emoji}</div>
        <div class="card-info">
            <div class="card-name">${type.name}</div>
            <div class="card-price">üí∞ ${type.price}</div>
            <div class="card-income">üìà +${type.income}</div>
        </div>
    `;
    
    card.onclick = () => {
        document.querySelectorAll('.building-card').forEach(c => c.classList.remove('selected'));
        card.classList.add('selected');
        gameState.selectedBuilding = index;
        infoPanel.innerHTML = `–í—ã–±—Ä–∞–Ω–æ: ${type.name} | üí∞ ${type.price} | üìà ${type.income}`;
    };
    
    buildingsGrid.appendChild(card);
});

// ==================== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò ====================
cityArea.onclick = (e) => {
    if (e.target === cityArea) {
        buildBuilding();
    }
};

document.getElementById('collectBtn').onclick = collectTaxes;
document.getElementById('cancelBtn').onclick = () => {
    gameState.selectedBuilding = null;
    document.querySelectorAll('.building-card').forEach(c => c.classList.remove('selected'));
    infoPanel.innerHTML = 'üëÜ –í—ã–±–µ—Ä–∏—Ç–µ –∑–¥–∞–Ω–∏–µ –≤ –º–µ–Ω—é';
    showNotification('‚ùå –í—ã–±–æ—Ä –æ—Ç–º–µ–Ω—ë–Ω', 'info');
};
document.getElementById('resetBtn').onclick = resetGame;

// ==================== –ù–ê–ß–ê–õ–¨–ù–ê–Ø –ó–ê–ì–†–£–ó–ö–ê ====================
renderCity();
updateUI();

// –î–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä—É —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–¥–∞–Ω–∏–π –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
gameState.money = 50000;
gameState.buildings.push({ type: 0 });
gameState.buildings.push({ type: 1 });
gameState.buildings.push({ type: 2 });
updateUI();
renderCity();
</script>
</body>
</html>
