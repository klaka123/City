<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Test City</title>
    <style>
        /* –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        body { margin: 0; overflow: hidden; background: #0a1a28; }
        canvas { display: block; width: 100vw; height: 100vh; }
        #ui { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.7); color: white; padding: 10px 20px; border-radius: 30px; display: flex; gap: 20px; z-index: 100; }
        .btn { background: #2a4a6e; border: none; color: white; padding: 10px 20px; border-radius: 20px; cursor: pointer; }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div id="ui">
        <span>üí∞ <span id="money">10000</span></span>
        <button class="btn" id="buildBtn">üè† –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º</button>
        <button class="btn" id="weatherBtn">üå¶Ô∏è –°–º–µ–Ω–∏—Ç—å –ø–æ–≥–æ–¥—É</button>
        <button class="btn" id="resetBtn">üîÑ –°–±—Ä–æ—Å</button>
    </div>
    <script>
        // –ü—Ä–æ—Å—Ç–æ–π —Ä–∞–±–æ—á–∏–π –∫–æ–¥
        console.log('Script started');
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let money = 10000;
        let weather = 'clear';
        const buildings = [];

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            draw();
        }
        window.addEventListener('resize', resize);
        resize();

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#7cb57c';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            // —Ä–∏—Å—É–µ–º –ø—Ä–æ—Å—Ç—ã–µ –∫–≤–∞–¥—Ä–∞—Ç—ã –≤–º–µ—Å—Ç–æ –∏–∑–æ–º–µ—Ç—Ä–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∞
            buildings.forEach((b, i) => {
                ctx.fillStyle = 'brown';
                ctx.fillRect(100 + i*60, 200, 50, 50);
                ctx.fillStyle = 'white';
                ctx.font = '20px sans-serif';
                ctx.fillText('üè†', 110 + i*60, 240);
            });
            if (weather === 'rain') {
                ctx.fillStyle = 'rgba(0,0,255,0.2)';
                ctx.fillRect(0,0,canvas.width,canvas.height);
            }
        }

        document.getElementById('buildBtn').addEventListener('click', () => {
            buildings.push({});
            draw();
        });

        document.getElementById('weatherBtn').addEventListener('click', () => {
            weather = weather === 'clear' ? 'rain' : 'clear';
            draw();
        });

        document.getElementById('resetBtn').addEventListener('click', () => {
            buildings.length = 0;
            draw();
        });
    </script>
</body>
</html>
